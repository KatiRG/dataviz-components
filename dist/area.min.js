!function(a){var b={margin:{top:0,right:0,bottom:30,left:50},aspectRatio:16/9,x:{ticks:5},y:{ticks:10},width:600};this.areaChart=function(c,d){var e,f=a({},b,d),g=f.width,h=Math.ceil(g/f.aspectRatio),i=f.innerHeight=h-f.margin.top-f.margin.bottom,j=f.innerWidth=g-f.margin.left-f.margin.right,k=d3.scaleTime().range([0,j]),l=d3.scaleLinear().range([i,0]),m=d3.axisBottom(k).ticks(f.x.ticks),n=d3.axisLeft(l).ticks(f.y.ticks),o=c.select("g"),p=d3.area().x(function(a){return k(f.x.getValue(a.data))}).y0(function(a){return l(a[0])}).y1(function(a){return l(a[1])}),q=d3.stack(),r=d3.transition().duration(1e3),s=function(){var a,b,c,e=this.settings,f=e.filterData&&"function"==typeof e.filterData?e.filterData(e.data):e.data,g=o.select(".x.axis"),h=o.select(".y.axis"),s=o.select(".data"),t=j-6,u=function(a){return l((a[a.length-1][0]+a[a.length-1][1])/2)},v=e.z.getKeys(f),w=function(a,b){var c="area area"+(b+1);return e.z&&e.z.getClass&&"function"==typeof e.z.getClass&&(c+=" "+e.z.getClass(a)),c},x=function(a){for(var b=0,c=0;c<v.length;c++)b+=e.y.getValue(a,v[c],f);return b};k.domain(d3.extent(f,e.x.getValue)),l.domain([0,d3.max(f,e.y.getTotal?e.y.getTotal:x)]),a=q.keys(v).value(e.y.getValue)(f),s.empty()&&(s=o.append("g").attr("class","data")),b=s.selectAll(".area").data(a),b.enter().append("path").attr("class",w).attr("d",p),b.transition(r).attr("d",p),c=s.selectAll(".label"),c.data(a).enter().append("text").text(e.z.getText).attr("aria-hidden","true").attr("class","label").attr("fill","#000").attr("x",t).attr("y",u).attr("dy","1em").attr("text-anchor","end"),c.transition(r).attr("y",u),g.empty()&&(g=o.append("g").attr("class","x axis").attr("aria-hidden","true").attr("transform","translate(0,"+i+")")),g.call(m).append("text").attr("class","chart-label").attr("fill","#000").attr("x",j).attr("dy","-0.5em").attr("text-anchor","end").text(d.x.label),h.empty()&&(h=o.append("g").attr("class","y axis").attr("aria-hidden","true")),h.call(n).append("text").attr("class","chart-label").attr("fill","#000").attr("y","0").attr("transform","rotate(-90)").attr("dy","1.5em").attr("text-anchor","end").text(d.y.label)};return e={settings:f,svg:c},c.attr("viewBox","0 0 "+g+" "+h).attr("preserveAspectRatio","xMidYMid meet").attr("role","img").attr("aria-label",f.altText),o.empty()&&(o=c.append("g").attr("transform","translate("+f.margin.left+","+f.margin.top+")")),f.data?s.apply(e):d3.json(f.url,function(a,b){f.data=b,s.apply(e)}),e}}(jQuery.extend);
//# sourceMappingURL=area.min.js.map